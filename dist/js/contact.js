(()=>{let t=!1;document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".input-text").forEach((t=>{function e(t){""!==t.value?t.classList.add("not-empty"):t.classList.remove("not-empty")}e(t),t.addEventListener("input",(function(){e(t)}))}));const e=document.getElementById("thanksModal"),n=document.getElementsByClassName("close")[0];document.getElementById("contactForm").addEventListener("submit",(function(n){n.preventDefault();const o=n.target,c=new FormData(o);fetch(o.action,{method:"POST",body:c}).then((n=>{n.ok?(t=!0,e.style.display="block",o.reset(),document.querySelectorAll(".input-text").forEach((t=>{t.classList.remove("not-empty")}))):(alert("送信に問題が発生しました。サーバーからエラーが返されました。"),console.error("送信エラー:",n))})).catch((t=>{alert("送信に問題が発生しました。ネットワークエラーの可能性があります。"),console.error("ネットワークエラー:",t)}))}));const o=document.getElementById("hidden_iframe");o&&(o.onload=function(){t&&(alert("送信が完了しました。"),t=!1)}),n.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}}))})();